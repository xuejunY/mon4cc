<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mon4cc.database.mapper.GroupingMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.mon4cc.database.entity.Grouping">
        <id column="groupingId" property="groupingId" />
        <result column="sourceComponent" property="sourceComponent" />
        <result column="targetComponent" property="targetComponent" />
        <result column="grouping" property="grouping" />
        <result column="stream" property="stream" />
        <result column="topologyId" property="topologyId" />
    </resultMap>

    <insert id="insertGrouping" parameterType='Grouping'>
        insert into grouping (groupingId,sourceComponent,targetComponent,grouping,stream,topologyId)
        values (#{groupingId},#{sourceComponent},#(targetComponent),#{grouping},#{stream},#{topologyId})
    </insert>

    <select id="selectGrouping" resultType="Grouping">
        select * from grouping where groupingId = #{groupingId}
    </select>

    <update id="updateGrouping" parameterType="Grouping">
        update grouping set sourceComponent = #{sourceComponent},targetComponent = #{targetComponent},
        grouping = #{grouping},stream = #{stream}
        where groupingId = #{groupingId} and topologyId = #{topologyId}
    </update>

</mapper>
